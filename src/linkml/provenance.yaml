id: https://concepts.datalad.org/provenance
name: provenance
title: Concepts for ascribing provenance to entities
description: >-
  Provided components are centered around the annotation of provenance of
  entities, following the [W3C PROV data model](https://www.w3.org/TR/prov-dm),
  and using the [W3C PROV ontology](https://www.w3.org/TR/prov-o).
prefixes:
  dlco: https://concepts.datalad.org/ontology/
  linkml: https://w3id.org/linkml/
  prov: http://www.w3.org/ns/prov#
imports:
  - linkml:types
default_prefix: dlco


slots:
  # Commit was_generated_by CommitActivity
  was_generated_by:
    slot_uri: prov:wasGeneratedBy
    description: >-
      A generation is the completion of production of a new entity by an
      activity. This entity did not exist before generation and becomes
      available for usage after this generation.
    range: Activity

  # Commit was_derived_from Commit
  was_derived_from:
    slot_uri: prov:wasDerivedFrom
    description: >-
      A derivation is a transformation of an entity into another, an update
      of an entity resulting in a new one, or the construction of a new
      entity based on a pre-existing entity.
    range: Entity

  # Commit was_attributed_to Author
  was_attributed_to:
    slot_uri: prov:wasAttributedTo
    description: >-
      Attribution is the ascribing of an entity to an agent.
    range: Agent

  # Commit was_associated_with Committer
  was_associated_with:
    slot_uri: prov:wasAssociatedWith
    description: >-
      An activity association is an assignment of responsibility to an agent
      for an activity, indicating that the agent had a role in the activity.
      It further allows for a plan to be specified, which is the plan intended
      by the agent to achieve some goals in the context of this activity.
    range: Agent

  # TODO maybe generated_at is enough for us?
  # CommitActivity ended_at DateTime
  ended_at:
    slot_uri: prov:endedAtTime
    description: >-
      End is when an activity is deemed to have been ended by an entity,
      known as trigger. The activity no longer exists after its end.
      Any usage, generation, or invalidation involving an activity
      precedes the activity's end.
    range: datetime

  # Commit generated_at DateTime (committer time)
  generated_at:
    slot_uri: prov:generatedAtTime
    description: >-
      (Date and) time at which the generation of an entity took place or was
      completed.
    range: datetime

  # Commit was_revision_of Dataset(unversioned concept)
  was_revision_of:
    slot_uri: prov:wasRevisionOf 
    description: >-
      A revision is a derivation for which the resulting entity is a revised
      version of some original. The implication here is that the resulting
      entity contains substantial content from the original. Revision is a
      particular case of derivation.
    range: Entity

  # DataladRun acted_on_behalf_of Author
  acted_on_behalf_of:
    slot_uri: prov:actedOnBehalfOf
    description: >-
      Delegation is the assignment of authority and responsibility to an
      agent (by itself or by another agent) to carry out a specific activity
      as a delegate or representative, while the agent it acts on behalf of
      retains some responsibility for the outcome of the delegated work.
    range: Agent

classes:
  Entity:
    class_uri: prov:Entity
    description: >-
      A physical, digital, conceptual, or other kind of thing with some
      fixed aspects; entities may be real or imaginary.

  Activity:
    class_uri: prov:Activity
    description: >-
      An activity is something that occurs over a period of time and acts
      upon or with entities; it may include consuming, processing,
      transforming, modifying, relocating, using, or generating entities.

  Agent:
    class_uri: prov:Agent
    description: >-
      Something that bears some form of responsibility for an activity
      taking place, for the existence of an entity, or for another
      agent's activity.

  SoftwareAgent:
    is_a: Agent
    class_uri: prov:SoftwareAgent
    description: >-
      Running software.

  HasGenerationProvenance:
    mixin: true
    description: >-
      (Mixin) class to specify how an object (an entity) was generated.
    slots:
      - was_generated_by
