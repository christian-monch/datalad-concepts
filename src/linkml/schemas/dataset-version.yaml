id: https://concepts.datalad.org/schemas/dataset-version
name: dataset-version
version: UNRELEASED
status: bibo:status/draft
title: Schema for a generic dataset version record
description: |
  This is a schema that a DataLad dataset generator/updator would understand
  for importing a non-DataLad dataset specification.
  TODO
comments:
  - ALL CONTENT HERE IS UNRELEASED AND MAY CHANGE ANY TIME

license: MIT

prefixes:
  bibo: http://purl.org/ontology/bibo/
  CiTO: http://purl.org/spar/cito/
  DCAT: http://www.w3.org/ns/dcat#
  dcterms: http://purl.org/dc/terms/
  dlco: https://concepts.datalad.org/ontology/
  dpv: https://w3id.org/dpv#
  linkml: https://w3id.org/linkml/
  prov: http://www.w3.org/ns/prov#
  schema: http://schema.org/
  spdx: http://spdx.org/rdf/terms#
  licenses: http://spdx.org/licenses/
  customlicenses: https://concepts.datalad.org/ns/custom-licenses/
  marcrel: http://id.loc.gov/vocabulary/relators/

emit_prefixes:
  - CiTO
  - DCAT
  - dlco
  - licenses
  - customlicenses
  - marcrel
  - prov

imports:
  - ../ontology/schema_utils
  - ../ontology/datasets
  - ../ontology/projects

classes:
  TypedObject:
    class_uri: dlco:TypedObject
    is_a: MetadataObject
    mixins:
      - HasRequiredMetaTypeDesignator
    description: >-
      Base class for any object with a type designator slot. This class
      should never be used directly, only its subclasses.

  DUIDedTypedObject:
    class_uri: dlco:DUIDedTypedObject
    is_a: TypedObject
    description: >-
      Metadata object that is uniquely identified within a
      metadata document by some code.
    slots:
      - meta_code

  DistributionObject:
    class_uri: dlco:DistributionObject
    is_a: TypedObject
    description: >-
      TODO
    mixins:
      - Distribution
    slot_usage:
      license:
        inlined: false
        range: LicenseDocumentObject

  FileContainerObject:
    class_uri: dlco:FileContainerObject
    is_a: DistributionObject
    mixins:
      # this should be FileContainer and a FilesystemDirectory a subclass of it
      - FilesystemDirectory
    description: >-
      TODO
    slot_usage:
      qualified_part:
        multivalued: true
        inlined: true
        inlined_as_list: true
        range: FileContainerItemObject

  FileContainerItemObject:
    class_uri: dlco:FileContainerItemObject
    mixins:
      - QualifiedPart
    description: >-
      Metadata object for a `QualifiedPart`, where the part is
      a `DistributionObject`.
    slot_usage:
      relation:
        inlined: true
        range: DistributionObject


  DigitalDocumentObject:
    class_uri: dlco:DigitalDocumentObject
    is_a: DistributionObject
    mixins:
      - DigitalDocument
    description: >-
      TODO
    slot_usage:
      license:
        inlined: false
        range: LicenseDocumentObject


  DatasetVersionObject:
    class_uri: dlco:DatasetVersionObject
    mixins:
      - Dataset
    description: >-
      TODO
    attributes:
      custom_licenses:
        multivalued: true
        inlined: true
        range: LicenseDocumentObject
        description: >-
          Container to declare custom licenses.
    slot_usage:
      distribution:
        inlined: true
        multivalued: false
        range: FileContainerObject
          #range: GitTreeObject
          #has_part:
          #  inlined: true
          #  multivalued: true
          #  range: DatasetVersionObject
          #    #range: GitShaIDedObject
      identifier:
        multivalued: true
      is_version_of:
        range: string
        todos:
          - make URL/URI
          #range: DataladDatasetObject
          #qualified_part:
          #  inlined: true
          #  inlined_as_list: true
          #  multivalued: true
          #  range: GitShaIDedPartObject
      license:
        range: LicenseDocumentObject
      qualified_attribution:
        inlined: true
        inlined_as_list: true
        multivalued: true
        range: AgentInfluenceObject
      qualified_relation:
        inlined: true
        inlined_as_list: true
        multivalued: true
        range: EntityInfluenceObject

  AgentObject:
    class_uri: dlco:AgentObject
    mixins:
      - Agent
    slots:
      - meta_type
    description: >-
      TODO

  PersonObject:
    class_uri: dlco:PersonObject
    is_a: AgentObject
    mixins:
      - Person
    description: >-
      TODO

  ResearchContributorObject:
    class_uri: dlco:ResearchContributorObject
    is_a: PersonObject
    mixins:
      - ResearchContributor
    description: >-
      TODO
    slot_usage:
      affiliation:
        range: OrganizationObject

  OrganizationObject:
    class_uri: dlco:OrganizationObject
    is_a: AgentObject
    mixins:
      - Organization
    slots:
      - meta_code

    description: >-
      TODO

  EntityObject:
    class_uri: dlco:EntityObject
    mixins:
      - Entity
    slots:
      - meta_type
    description: >-
      TODO

  AgentRoleObject:
    class_uri: dlco:AgentRoleObject
    mixins:
      - Role
    description: >-
      TODO
    slots:
      - meta_id
    id_prefixes:
      - marcrel
      - dpv
    id_prefixes_are_closed: false
    comments:
      - To indicate a (GDPR) data controller, use `dpv:DataController`
    notes:
      - We went for MARC relators as ID prefix, because of the comprehensiveness
      - This class only has a `meta_id` slot, because it is sufficient for identification of a Role via any of the supported CURIE prefix schema(s).
    see_also:
      - https://id.loc.gov/vocabulary/relators.html

  AgentInfluenceObject:
    class_uri: dlco:AgentInfluenceObject
    mixins:
      - AgentInfluence
    description: >-
      TODO
    slot_usage:
      agent:
        inlined: true
        range: AgentObject
      had_role:
        multivalued: true
        range: AgentRoleObject

  EntityInfluenceObject:
    class_uri: dlco:EntityInfluenceObject
    mixins:
      - EntityInfluence
    description: >-
      TODO
    slot_usage:
      entity:
        inlined: true
        range: EntityObject
      had_role:
        multivalued: true
        range: EntityRoleObject

  EntityRoleObject:
    class_uri: dlco:EntityRoleObject
    mixins:
      - Role
    description: >-
      TODO
    slots:
      - meta_id
    id_prefixes:
      - CiTO
      - schema
    id_prefixes_are_closed: false
    comments:
      - To declare a funding role, use `schema:funding`
      - To identify an authoritative data description publication, use `CiTO:citesAsAuthority`
      - To a publication that used a data resources, use `CiTO:isCitedAsDataSourceBy`

  GrantObject:
    class_uri: dlco:GrantObject
    is_a: EntityObject
    mixins:
      - Grant
    description: >-
      TODO

  LicenseDocumentObject:
    class_uri: dlco:LicenseDocumentObject
    mixins:
      - LicenseDocument
    description: >-
      TODO
    slots:
      - meta_id

  PublicationObject:
    class_uri: dlco:PublicationObject
    is_a: EntityObject
    mixins:
      - Publication
    description: >-
      TODO
